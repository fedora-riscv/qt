diff --git a/src/gui/dialogs/qprintdialog_unix.cpp b/src/gui/dialogs/qprintdialog_unix.cpp
index 23f5831..f34277a 100644
--- a/src/gui/dialogs/qprintdialog_unix.cpp
+++ b/src/gui/dialogs/qprintdialog_unix.cpp
@@ -569,6 +569,34 @@ void QPrintDialogPrivate::setTabs(const QList<QWidget*> &tabWidgets)
 void QPrintDialogPrivate::selectPrinter(QCUPSSupport *cups)
 {
     options.duplex->setEnabled(cups && cups->ppdOption("Duplex"));
+
+    if(cups)
+      {
+    	const ppd_option_t* duplex = cups->ppdOption("Duplex");
+    	if( duplex )
+    	  {
+    	    // copy default ppd duplex to qt dialog
+    	    if( qstrcmp(duplex->defchoice, "DuplexTumble") == 0 )
+    	      options.duplexShort->setChecked(true);
+    	    else if ( qstrcmp(duplex->defchoice, "DuplexNoTumble") == 0 )
+    	      options.duplexLong->setChecked(true);
+    	    else
+    	      options.noDuplex->setChecked(true);
+    	  }
+
+    	// set default color
+    	if( cups->currentPPD()->color_device )
+    	  options.color->setChecked(true);
+    	else
+    	  options.grayscale->setChecked(true);
+
+    	// set collation
+    	const ppd_option_t *collate = cups->ppdOption("Collate");
+    	if( collate )
+    	  {
+    	    options.collate->setChecked(qstrcmp(collate->defchoice, "True")==0);
+    	  }
+      }
 }
 #endif
 
diff --git a/src/gui/painting/qprinter.cpp b/src/gui/painting/qprinter.cpp
index 4d2b50a..c7ab1b3 100644
--- a/src/gui/painting/qprinter.cpp
+++ b/src/gui/painting/qprinter.cpp
@@ -627,6 +627,48 @@ QPrinter::QPrinter(PrinterMode mode)
                && d_ptr->paintEngine->type() != QPaintEngine::MacPrinter) {
         setOutputFormat(QPrinter::PdfFormat);
     }
+
+#if !defined(QT_NO_CUPS) && !defined(QT_NO_LIBRARY)
+    // fill in defaults from ppd file
+    QCUPSSupport cups;
+    
+    int printernum = -1;
+    for(int i = 0; i < cups.availablePrintersCount(); i++)
+      {
+	if( printerName().toLocal8Bit() == cups.availablePrinters()[i].name )
+	  printernum = i;
+      }
+    if( printernum >= 0 )
+      {
+	cups.setCurrentPrinter(printernum);
+
+    	const ppd_option_t* duplex = cups.ppdOption("Duplex");
+    	if( duplex )
+    	  {
+    	    // copy default ppd duplex to qt dialog
+    	    if( qstrcmp(duplex->defchoice, "DuplexTumble") == 0 )
+	      setDuplex(DuplexShortSide);
+    	    else if ( qstrcmp(duplex->defchoice, "DuplexNoTumble") == 0 )
+	      setDuplex(DuplexLongSide);
+    	    else
+	      setDuplex(DuplexNone);
+    	  }
+
+    	// set default color
+    	if( cups.currentPPD()->color_device )
+	  setColorMode(Color);
+    	else
+	  setColorMode(GrayScale);
+
+    	// set collation
+    	const ppd_option_t *collate = cups.ppdOption("Collate");
+    	if( collate )
+    	  {
+    	    setCollateCopies(qstrcmp(collate->defchoice, "True")==0);
+    	  }
+      }
+
+#endif
 }
 
 /*!
